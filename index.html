<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Portfolio Cover Sketch</title>

    <!-- Bulma CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
    />

    <!-- Google Pixel Font -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" /> -->

    <!-- p5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

    <style>
      
    </style>
  </head>


    <!-- Chat Toggle Button -->
  <div class="buttons is-right" style="position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 999;">
    <button id="chat-toggle" class="button is-info is-rounded">
      ðŸ’¬ Chat
    </button>
  </div>

  <!-- Chat Widget -->
  <div id="chat-widget" class="box" style="position: fixed; bottom: 4.5rem; right: 1.5rem; width: 300px; display: none; z-index: 1000;">
    <div class="content">
      <p class="has-text-weight-bold mb-2">Chat with me</p>
      <div id="chat-messages" class="mb-3" style="max-height: 200px; overflow-y: auto; font-size: 0.9rem;"></div>
      <div class="field has-addons">
        <div class="control is-expanded">
          <input id="chat-input" class="input is-small" type="text" placeholder="Type a message..." />
        </div>
        <div class="control">
          <button class="button is-info is-small" onclick="sendMessage()">Send</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const toggleBtn = document.getElementById("chat-toggle");
    const chatWidget = document.getElementById("chat-widget");
    const chatMessages = document.getElementById("chat-messages");
  
    toggleBtn.addEventListener("click", () => {
      chatWidget.style.display = chatWidget.style.display === "none" ? "block" : "none";
    });
  
    async function sendMessage() {
      const input = document.getElementById("chat-input");
      const message = input.value.trim();
      if (!message) return;
  
      const userMsg = document.createElement("p");
      userMsg.className = "has-text-right has-text-weight-semibold";
      userMsg.textContent = "You: " + message;
      chatMessages.appendChild(userMsg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      input.value = "";
  
      try {
        const res = await fetch("http://localhost:8000/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message })
        });
        const data = await res.json();
  
        const botMsg = document.createElement("p");
        botMsg.className = "has-text-left";
        botMsg.textContent = "Bot: " + data.reply;
        chatMessages.appendChild(botMsg);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      } catch (e) {
        const errorMsg = document.createElement("p");
        errorMsg.className = "has-text-danger";
        errorMsg.textContent = "Bot: Error reaching server.";
        chatMessages.appendChild(errorMsg);
      }
    }
  </script>
  
  
  <body>  	
    <!-- Cover Section with Sketch -->
    <section class="hero is-fullheight is-black is-bold">
      <!-- Load Navbar -->
    <div id="navbar"></div>
      <div class="hero-body" style="position: relative; overflow: hidden;">
        <!-- Sketch holder -->
        <div
          id="sketch-holder"
          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;"
        ></div>

        <!-- Overlay Text -->
        <div
          class="container has-text-centered"
          style="position: relative; z-index: 1; padding-top: 2rem; padding-bottom: 2rem;"
        >
          <h1 class="title is-2 has-text-white">John Doe</h1>
          <h2 class="subtitle is-4 has-text-white">AI DEVELOPER | CREATIVE DEVELOPER | VISUAL ARTIST</h2>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="section">
        <div class="content">
            <div class="container">
                <h2 class="title">ABOUT ME</h2>
                <p>I'm an AI developer who enjoys blending technology with creativity. I build intelligent systems for real-world tasks like automation, computer vision, and data analysis. In my free time, I explore creative codingâ€”making generative art, interactive sketches, and visual experiments with tools like p5.js and shaders. For me, coding is both a profession and a form of expression.</p>
            </div>
        </div>
    </section>

    <!-- Load Footer -->
    <div id="footer"></div>

    <!-- JS to include HTML -->
    <script src="include.js"></script>
    
    <!-- p5.js Sketch -->
    <script src="sketch.js"></script>
  </body>
</html>
